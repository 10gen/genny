SchemaVersion: 2018-07-01
Owner: "@mongodb/stm"

Clients:
  Default:
    QueryOptions:
      maxPoolSize: 10
  SomeOtherPool:
    QueryOptions:
      maxPoolSize: 400

Actors:
- Name: CrudActor
  Type: CrudActor
  Database: mydb
  ClientName: SomeOtherPool # Which connection pool to use. Must be defined in Clients section.
  Phases:
  - Repeat: 10
    Collection: test
    Operations:
    - OperationName: insertMany
      OperationCommand:
        Documents:
        - a: {^Choose: {from: ["a", 1, {a:1}]}}
          b: {^Join: {array: ["hi", "there", {^Choose: {from: ["Sam", "Julie", "Barbara", "Pat"]}}], sep: " "}}
          c: {^RandomDouble: {min: 1, max: 10}}
          d: 1
