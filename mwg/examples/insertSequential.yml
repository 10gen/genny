# Simple example of insert many

main:
  seed: 131415161718
  name: main
  wvariables:
    count: 0
  nodes:
    - type: drop
    - name: repeat
      type: ForN
      N: 10
      node: insert1
      next: check1
    - name: insert1
      type: insert_one
      next: Finish
      document: {y: {$increment: {variable: count}}}
    - name: check1
      type: count
      filter: {y: 0}
      assertEquals: 1
    - name: check2
      type: count
      filter: {y: 9}
      assertEquals: 1
    - name: check3
      type: count
      filter: {y: {$exists: 1}}
      assertEquals: 10