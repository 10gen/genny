# Example workload. Does insert 1, then goes to random node. Random
#  node chooses between doing insert2 or query, and then back to the
#  random choice. There is a sleep between every node to make it human
#  watchable.

main : 
  seed: 131415161718
  name: main
  nodes: 
    - 
      name : insert1
      print : Running insert1
      type : insert_one
      document : {x : a}
      next : sleep
    - 
      name : insert2
      print : Running insert2
      type : insert_one
      document : {x : b}
      next : sleep
    - 
      name : query
      print : Running query
      type : find
      filter : { x : a }
      next : sleep
    - 
      name : random
      print : In Random Choice
      type : random_choice
      next : 
        insert2 : 0.5
        query : 0.5
    - 
      name : sleep
      type : sleep
      next : random
      sleep : 1000


