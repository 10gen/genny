# Simple example of the ForN node. Does an insert 5 times and then stops.

main :
  seed: 131415161718
  name: main
  nodes:
    - type: drop
    - name: repeat
      type: ForN
      N: 5
      next: check1
      node: insert1
    - name: insert1
      type: insert_one
      next: insert2
      print: Inserted Document
      document:
        x: a
        y:
          c: [ 1 2 ]
          e: f
          f: { g : d }
          z:
            - a
            - b
            - { a: [ 1 2 ] }
            - [ 1 2 3 ]
    - name: insert2
      type: insert_one
      next: Finish
      print: Inserting another document
      document: {i: 1}
    - name: check1
      type: count
      filter: {y.e: f}
      assertEquals: 5
    - name: check2
      type: count
      filter: {i: 1}
      assertEquals: 5
