# Simple example of insert many
 
main : 
  seed: 131415161718
  name: main
  nodes: 
    - type : drop
    - name : repeat
      type : forN
      N : 5
      node : 
        type : workloadNode
        name : inserts
        workload : 
          wvariables : 
            count : 0
          nodes :             
            - name : insert1
              type : insert_one
              next : insert2
              document :
                type : override 
                doc : {y : 1}
                overrides : 
                  y :  # increment count and set y to count
                    type : increment
                    variable : count 
            - name : insert2
              type : insert_one
              document :
                type : override 
                doc : {y : 1}
                overrides : 
                  y :  # increment count and set y to count
                    type : increment
                    variable : count 
    - name : check1
      type : count
      filter : {y : 0}
      assertEquals : 1
    - name : check2
      type : count
      filter : {y : 9}
      assertEquals : 1
    - name : check3
      type : count
      filter : {y : {$exists : 1}}
      assertEquals : 10