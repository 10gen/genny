#This is the core workload. Included below in main workload
testphase : &workloadphase
  name : workloadphase
  threads : {variable : threads}
  runLength : {variable : duration}
  wvariables :
    oid  : default_oid
    seq : -1
    nodes :
      - name : choice
        type : random_choice
        next :
          insert : {variable : inserts}
          query : {variable : queries}
          update : {variable : update}
      - *insert # Need to define these next three.
      - *query
      - *update

main :
  wvariables :
    threads : 2
    duration : 300
    numfields : 30
    fieldsize : 50
    inserts : 100
    updates : 200
    queries : 300
    pnum : 20
  nodes :
    - drop
    # Make the indexes
    - type : create_index
      keys : { f1 : 1 }
      - type : create_index
        keys : { f3 : 1 }
      - type : create_index
        keys : { f5 : 1, f1 : 1 }
      - type : create_index
        keys : { f7 : 1, f1 : 1 }
      - type : workloadNode
        workload : *workloadphase
