# Example workload using assertions. Assertions to be defined on
# specific operations. This one demonstrates a proposed assertion on
# count, and for find_one. Could easily have inequality assertion also
# for count.

main : 
  seed: 131415161718
  name: main
  nodes: 
    - type : drop
    - type : insert_one
      document : {x : a, z : 1}
    - type : insert_one
      document : {y : b, z : 2}
    - type : count
      filter : {x : a} 
      assert : 
        equals : 1
    - type : count
      filter : {x : b} 
      assert : 
        equals : 1
    - type : count
      filter : {x : c} 
      assert : 
        equals : 0
    - type : find_one
      filter : {z : 1}
      assert : 
        fields : 
          - field : x
            equals : a
          - field : y
            exist : 0 # Field should not exist